# Синтез теории управления деревом состояний данных

## Введение

Существует множество частных интерпретаций основного принципа управлением данных. Непохожие друг-на-друга вариаций MVC от google, apple, facebook, microsoft, etc… и другие мутаций MVP/MVVM/MV* - зачастую не раскрывают главной идеи управления состоянием. Flux/Redux/Vuex/Mobx - так же являются частными случаями реализации главной идеи, но уводя внимания в частности от основных форм состояния данных. 

Возникновение термина MVW (Whatever) - говорит о важности представления и модели данных существующих во всех реализациях. Остальные термины описывают частные случаи перехода состояния из байтов базы данных в картинку на экране пользователя. Потому основную идею лучше рассматривать на примере воды и её круговороте в нашем мире. Именно круговорота. Так на каждом участке есть частное движение в обе стороны - основная идея потока в испарении через океаны и выпадением осадков на континенты. Так запускается действие функций жизни земли. Подобно переходам состояния воды из газообразного в лёд горных вершин - данные пользователя путешествуют от сервера клиенту и обратно. Важно видеть воздействие пользователя на данные так же как солнце на воду. 

Так суть всех редьюсеров, контроллеров, мутаций, диспатчеров, и.т.д. станет ясной, в движении данных от пользователя или обратно. 
**Осадки или испарение**. 

Основной принцип движения данных от пользователя к состоянию байтов (операции/база данных) и обратно.

![Круговорот воды в природе](https://upload.wikimedia.org/wikipedia/commons/1/19/Watercyclesummary.jpg)

Все фреймворки управления состоянием клиента иного не делают. 

Каждый вправе по своему называть промежуточные этапы движения необходимые в среде их возникновения. Зачастую нет малейшей нужды в некоторых этапах принятых в фейсбуке. А бывает нет возможности предсказать какие понадобятся промежуточные мутации и глубина веток дерева машины состояний. Когда бизнес-логике вернее прямые связи запрещённые фреймворком как антипаттерн. Так получается [лапша](https://habr.com/ru/post/326046/) из десятков связей данных путешествующих по миру/графу исключительно в нуждах отсутствующего контекста среды разработчиков фреймворка. 

[State Action Model](https://habr.com/ru/post/277113/) и MobX State Tree наиболее похожие на наше решение управления состоянием.
![SAM](https://habrastorage.org/files/6bb/124/52d/6bb12452d4c74672a635675c42a1c276.jpg)

На следующей неделе о том как появился инструмент поощряющий приготовление лапши из любых видов связей, со вкусом истинного MVC либо вкуснейшего Whatever Store.

...
